@using Vovinam.Data
@using Vovinam.WebBackend.Common
@using Vovinam.WebBackend.Web
@model School

@using (Ajax.BeginForm("CreateSchool", "School", null, new AjaxCommonOption { OnSuccess = "CreateSchoolSuccess" }, new { role = "form", id = "CreateSchoolForm" }))
{

     <input type="hidden" name="Id" value="@Model.Id" />
    <div class="modal-body">
        <div class="row">
            <div class="col-md-8">
                <div class="form-group">
                    <label for="field-1" class="control-label">Tên trường<span style="color: Red">*</span></label>
                    @Html.TextBoxFor(x => x.Name, new { @class = "form-control", data_val = "true", data_val_required = "Thông tin bắt buộc" })
                    @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">Thoát</button>
        <button type="submit" class="btn btn-primary waves-effect waves-light">Lưu</button>
    </div>
}

<script type="text/javascript">
    jQuery.validator.unobtrusive.parse('#CreateSchoolForm');
    $(function () {
        //jQuery.validator.unobtrusive.parse('#CreateCompanyForm');
    });

    function CreateSchoolSuccess(data) {
        if (data.Code == 0) {
            data.callFunc = function () {
                $('#myModal').modal('hide');
                $("#SearchForm").submit();
            };
        }
        OnSuccessAjax(data);
    }
</script>


